<div class="my-5 flex">
  <label class="input input-bordered flex items-center gap-2">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 16 16"
      fill="currentColor"
      class="h-4 w-4 opacity-70"
    >
      <path
        fill-rule="evenodd"
        d="M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z"
        clip-rule="evenodd"
      />
    </svg>
    <input type="text" class="grow" placeholder="Search" />
  </label>
  <button
    class="btn btn-ghost ms-2 text-blue-600/100"
    (click)="addExternalSystem()"
  >
    CREATE NEW EXTERNAL SYSTEM-SETUP
  </button>
</div>

<div class="join join-vertical w-full">
  <div
    class="collapse collapse-arrow join-item border-base-300 border"
    *ngFor="let system of externalSystems$()"
  >
    <input type="radio" name="my-accordion-4" />
    <div class="collapse-title font-medium flex justify-between">
      <h1 class="text-md">{{ system.name }}</h1>
      <!-- copy and delete buttons -->
      <div class="flex gap-3 z-10">
        <button class="btn-copy">
          <span class="material-symbols-outlined"> content_copy </span>
        </button>
        <button class="btn-del">
          <span class="material-symbols-outlined"> delete </span>
        </button>
      </div>
    </div>
    <div class="collapse-content">
      <!-- Data Form -->
      <!-- Example field rendering, same as before -->
      <div class="flex justify-between items-center">
        <div>
          <p>Name:</p>
        </div>
        <div class="w-3/4">
          <input
            type="text"
            placeholder="{{ system.name }}"
            class="input input-ghost w-full border-b-accent-content"
          />
        </div>
      </div>

      <div class="flex justify-between items-center">
        <div>
          <p>Base URL:</p>
        </div>
        <div class="w-3/4">
          <input
            type="text"
            placeholder="{{ system.baseUrl }}"
            class="input input-ghost w-full border-b-accent-content"
          />
        </div>
      </div>

      <div class="flex justify-between items-center">
        <div>
          <p>Authentication Method:</p>
        </div>
        <div class="w-3/4">
          <input
            type="text"
            placeholder="{{ system.authMethod }}"
            class="input input-ghost w-full border-b-accent-content"
          />
        </div>
      </div>

      <div class="flex justify-between items-center">
        <div>
          <p>Key:</p>
        </div>
        <div class="w-3/4">
          <input
            type="text"
            placeholder="{{ system.key }}"
            class="input input-ghost w-full border-b-accent-content"
          />
        </div>
      </div>

      <div class="flex justify-between items-center">
        <div>
          <p>Value:</p>
        </div>
        <div class="w-3/4">
          <input
            type="text"
            placeholder="{{ system.value }}"
            class="input input-ghost w-full border-b-accent-content"
          />
        </div>
      </div>

      <div class="flex justify-between items-center">
        <div>
          <p>Authentication Place:</p>
        </div>
        <div class="w-3/4 flex gap-10">
          <div class="form-control">
            <label class="label cursor-pointer flex flex-row-reverse gap-2">
              <span class="label-text">Header</span>
              <input
                type="radio"
                name="radio-10"
                class="radio checked:bg-blue-500"
                checked="checked"
              />
            </label>
          </div>
          <div class="form-control">
            <label class="label cursor-pointer flex flex-row-reverse gap-2">
              <span class="label-text">Query Parameters</span>
              <input
                type="radio"
                name="radio-10"
                class="radio checked:bg-accent"
                checked="checked"
              />
            </label>
          </div>
        </div>
      </div>

      <div class="flex justify-end mb-10">
        <button class="btn btn-accent">Save</button>
      </div>
    </div>
  </div>
</div>
